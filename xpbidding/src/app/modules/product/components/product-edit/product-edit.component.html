<div class="panel panel-primary">
  <div class="panel-heading">
      {{pageTitle}}
  </div>

  <div class="panel-body">
      <form class="form-horizontal" novalidate (ngSubmit)="saveProduct()" [formGroup]="productForm">
          <fieldset>
              <div class="form-group" [ngClass]="{'has-error': displayMessage?.Name }">
                  <label class="col-md-2 control-label" for="NameId">Product Name</label>

                  <div class="col-md-8">
                      <input class="form-control" id="NameId" type="text" placeholder="Name (required)" formControlName="Name" />
                      <span class="help-block" *ngIf="displayMessage?.Name">
                          {{displayMessage?.Name}}
                      </span>
                  </div>
              </div>

              <div class="form-group" [ngClass]="{'has-error': displayMessage?.Code}">
                  <label class="col-md-2 control-label" for="CodeId">Product Code</label>

                  <div class="col-md-8">
                      <input class="form-control" id="CodeId" type="text" placeholder="Code (required)" formControlName="Code" />
                      <span class="help-block" *ngIf="displayMessage?.Code">
                          {{displayMessage?.Code}}
                      </span>
                  </div>
              </div>

              <div class="form-group" [ngClass]="{'has-error': displayMessage?.Category}">
                <label class="col-md-2 control-label" for="CategoryId">Product Category</label>

                <div class="col-md-8">
                    <input class="form-control" id="CategoryId" type="text" placeholder="Category (required)" formControlName="Category" />
                    <span class="help-block" *ngIf="displayMessage?.Category">
                        {{displayMessage?.Category}}
                    </span>
                </div>
            </div>


              <!-- Star Rating -->
              <div class="form-group" [ngClass]="{'has-error': displayMessage?.StarRating}">
                  <label class="col-md-2 control-label" for="StarRatingId">Star Rating (1-5)</label>

                  <div class="col-md-8">
                      <input class="form-control" id="StarRatingId" type="number" placeholder="Rating" formControlName="StarRating" />
                      <span class="help-block" *ngIf="displayMessage?.StarRating">
                          {{displayMessage?.StarRating}}
                      </span>
                  </div>
              </div>

              <!--Tags-->
              <div formArrayName="Tags">
                  <div class="row">
                      <button class="col-md-offset-1 col-md-1 btn btn-default" type="button" (click)="addTag()">Add Tag
                      </button>
                  </div>
                  <div class="form-group" *ngFor="let tag of Tags.controls; let i=index">
                      <label class="col-md-2 control-label" [attr.for]="i">Tag</label>

                      <div class="col-md-8">
                          <input class="form-control" [id]="i" type="text" placeholder="Tag" [formControlName]="i" />
                      </div>
                      <button class="col-md-1 btn btn-warning" type="button" (click)="deleteTag(i)">Delete Tag
                      </button>
                  </div>
              </div>

              <!-- Description -->
              <div class="form-group" [ngClass]="{'has-error': displayMessage.Description}">
                  <label class="col-md-2 control-label" for="descriptionId">Description</label>

                  <div class="col-md-8">
                      <textarea class="form-control" id="descriptionId" placeholder="Description" rows=3 formControlName="Description"></textarea>
                      <span class="help-block" *ngIf="displayMessage.Description">
                          {{ displayMessage.Description}}
                      </span>
                  </div>
              </div>

              <!-- Buttons -->
              <div class="form-group">
                  <div class="col-md-4 col-md-offset-2">
                      <!-- Submit Button -->
                      <span>
                          <button class="btn btn-primary" type="submit" style="width:80px;margin-right:10px" [disabled]='!productForm.valid'>
                              Save
                          </button>
                      </span>
                      <!-- Cancel Button -->
                      <span>
                          <a class="btn btn-default" style="width:80px" [routerLink]="['/products']">
                              Cancel
                          </a>
                      </span>
                      <!-- Delete Button -->
                      <span>
                          <a class="btn btn-default" style="width:80px" (click)="deleteProduct()">
                              Delete
                          </a>
                      </span>
                  </div>
              </div>
          </fieldset>
      </form>
      <div class='has-error' *ngIf='errorMessage'>{{errorMessage}}</div>
  </div>

</div>